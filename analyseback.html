<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analyze Keyword Density</title>
<style>
body { font-family: Arial, sans-serif; margin:0; background:#f9f9f9; text-align:center; }
header { background:#222; color:#fff; padding:15px; }
header h1 span { color:#00b894; }
section { max-width:900px; margin:40px auto; padding:20px; background:#fff; border-radius:8px; border:1px solid #ddd; }
p { text-align:justify; line-height:1.6; }
textarea { width:95%; padding:10px; border-radius:6px; border:1px solid #ccc; margin-top:10px; }
button { padding:10px 15px; background:#00b894; color:#fff; border:none; border-radius:6px; font-weight:bold; cursor:pointer; margin-top:15px; }
button:hover { background:#019170; }
button:disabled { background:#ccc; cursor:not-allowed; }
.tip { margin-top:15px; display:none; background:#e0f7fa; padding:10px; border-radius:6px; }
.back-link { display:inline-block; margin-top:20px; padding:8px 12px; background:#00b894; color:#fff; text-decoration:none; border-radius:6px; font-weight:bold; }
.back-link:hover { background:#019170; }
</style>
</head>
<body>

<header>
<h1>SEO Task: Analyze Keyword Density</h1>
</header>

<section>
<p>Paste your website content below to calculate keyword density.</p>
<textarea id="content" rows="8" placeholder="Paste your content here..."></textarea>
<br>
<input type="text" id="keyword" placeholder="Enter keyword to check density">
<br>
<button onclick="analyze()">Analyze & Earn 10 KES</button>
<div class="tip" id="tipDiv"></div>

<a href="optimization.html" class="back-link">&larr; Back to SEO Tasks</a>
</section>

<script>
let reward = 10;
function analyze() {
  const content = document.getElementById("content").value.trim();
  const keyword = document.getElementById("keyword").value.trim();
  if(content === "" || keyword === "") { alert("Please enter content and keyword."); return; }

  const words = content.split(/\s+/).length;
  const keywordCount = (content.match(new RegExp(keyword, "gi")) || []).length;
  const density = ((keywordCount / words) * 100).toFixed(2);

  const tipDiv = document.getElementById("tipDiv");
  tipDiv.innerText = `âœ… Keyword "${keyword}" appears ${keywordCount} times out of ${words} words (Density: ${density}%). You earned ${reward} KES!`;
  tipDiv.style.display = "block";
  document.querySelector("button").disabled = true;
}
</script>

</body>
</html>
